# # app.py
# from flask import Flask, request, jsonify
# from youtube_transcript_api import YouTubeTranscriptApi
# from openai import OpenAI

# app = Flask(__name__)
# client = OpenAI(api_key="YOUR_OPENAI_API_KEY")

# @app.route("/api/summarize-youtube")
# def summarize_youtube():
#     video_id = request.args.get("video_id")
#     if not video_id:
#         return jsonify({"error": "Missing video_id"}), 400

#     try:
#         transcript = YouTubeTranscriptApi.get_transcript(video_id)
#         full_text = " ".join([t['text'] for t in transcript])
#     except Exception as e:
#         return jsonify({"error": str(e)}), 500

#     # Summarize using GPT
#     summary_prompt = f"Summarize the following YouTube transcript briefly:\n\n{full_text}"
#     response = client.chat.completions.create(
#         model="gpt-4o-mini",
#         messages=[{"role": "user", "content": summary_prompt}]
#     )
#     summary = response.choices[0].message.content.strip()

#     return jsonify({"summary": summary})

# if __name__ == "__main__":
#     app.run(debug=True)
